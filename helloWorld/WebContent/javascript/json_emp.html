<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/json_emp.html</title>
    <style>
        * {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        th {
            background-color: silver;
        }
    </style>
</head>

<body>
    <script>
        let rawData =
            `[{"id":1,"first_name":"Shirleen","last_name":"Novik","email":"snovik0@theguardian.com","gender":"Male","ip_address":"195.72.15.222"},
                        {"id":2,"first_name":"Anastassia","last_name":"Heap","email":"aheap1@reddit.com","gender":"Female","ip_address":"249.5.56.110"},
                        {"id":3,"first_name":"Standford","last_name":"Luckcuck","email":"sluckcuck2@slate.com","gender":"Female","ip_address":"119.116.101.203"},
                        {"id":4,"first_name":"Padgett","last_name":"Douse","email":"pdouse3@abc.net.au","gender":"Female","ip_address":"244.172.199.147"},
                        {"id":5,"first_name":"Dulce","last_name":"Cranham","email":"dcranham4@360.cn","gender":"Agender","ip_address":"155.43.212.37"},
                        {"id":6,"first_name":"Charmion","last_name":"Gresham","email":"cgresham5@deviantart.com","gender":"Bigender","ip_address":"9.244.68.30"},
                        {"id":7,"first_name":"Robbert","last_name":"Paroni","email":"rparoni6@dropbox.com","gender":"Female","ip_address":"203.241.155.141"},
                        {"id":8,"first_name":"Katy","last_name":"Reubbens","email":"kreubbens7@1688.com","gender":"Agender","ip_address":"23.199.152.58"},
                        {"id":9,"first_name":"Gradey","last_name":"Larcher","email":"glarcher8@youtu.be","gender":"Bigender","ip_address":"97.29.249.9"},
                        {"id":10,"first_name":"Marv","last_name":"Ireland","email":"mireland9@gmpg.org","gender":"Polygender","ip_address":"247.115.159.42"},
                        {"id":11,"first_name":"Wallis","last_name":"Thurston","email":"wthurstona@simplemachines.org","gender":"Polygender","ip_address":"155.135.106.240"},
                        {"id":12,"first_name":"Alexandrina","last_name":"Piaggia","email":"apiaggiab@google.fr","gender":"Polygender","ip_address":"141.60.16.215"},
                        {"id":13,"first_name":"Michaella","last_name":"Aupol","email":"maupolc@home.pl","gender":"Non-binary","ip_address":"84.203.107.107"},
                        {"id":14,"first_name":"Sutton","last_name":"Keddie","email":"skeddied@theguardian.com","gender":"Male","ip_address":"235.173.158.217"},
                        {"id":15,"first_name":"Marcel","last_name":"Glas","email":"mglase@cyberchimps.com","gender":"Agender","ip_address":"186.42.87.156"}]`;


        let data = JSON.parse(rawData); // rawData => object
        
        let ids = document.querySelectorAll('.row > td.first_name');
        console.log(ids)

        function mOver(e) {
            e.target.style.backgroundColor = 'skyblue';
        }
        
        function mOut(e) {
            e.target.style.backgroundColor = '';
        }

        function clickFun(e) {
            let btn = e.parentNode.parentNode;
            btn.remove(btn);
            
            // target;
            // console.log(btn.parentNode.remove());
        }

        // console.log(data.length);
        document.write('<table border="1">');
        document.write('<tr><th>id</th><th>first_name</th><th>last_name</th><th>email</th><th>gender</th><th>ip_address</th><th>삭제</th></tr>');
        data.forEach(function (obj, idx, ary) {
            // for (let i = 0; i < data.length; i++) {
            //     document.write('<tr>');
            //     for (let field in obj) {
            //         document.write('<td>' + obj[field] + '</td>');
            //     }
            //     document.write('</tr>');
            // }
            document.write('<tr onmouseout="mOut(event)" onmouseover="mOver(event)"><td>' + obj.id + '</td>' + '<td>' + obj.first_name + '</td>' +
                '<td>' + obj.last_name + '</td>' + '<td>' + obj.email + '</td>' + '<td>' +
                obj.gender + '</td>' + '<td>' + obj.ip_address + '</td>'
                + '<td><button onclick="clickFun(this)">삭제</button></td></tr>');
        });

        document.write('</table>');
    </script>
</body>

</html>