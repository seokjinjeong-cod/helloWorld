<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/array_iterable2.html</title>
</head>

<body>
    <script>
        const members = [{
            name: '최선영',
            score: 80
        }, {
            name: '윤희성',
            score: 85
        }, {
            name: '김지인',
            score: 89
        }, {
            name: '홍길동',
            score: 50
        }];
        // filter, mapping, forEach
        // pass: pass, fail <= mapping           score >= 60
        // pass <= filter
        // name, score, pass <= 이름, 점수, 합격여부
        //                      윤희성, 85, pass
        let tag = '<table border="1"><thead><th>이름</th><th>점수</th><th>합격여부</th><thead><tbody>';
        const memberList = members.map(function (obj, idx, ary) {
            let pass = '';
            if (obj.score >= 60) {
                pass = 'pass';
            } else {
                pass = 'fail';
            }
            const member = {
                name: obj.name,
                score: obj.score,
                pass: pass
            };
            return member;
        }).filter(function (obj, idx, ary) {
            return obj.pass == 'pass';
        }).forEach(function (obj, idx, ary) {
            tag += '<tr>';
            for(let field in obj) {
                tag += '<td>' + obj[field] + '</td>';
            }
            tag += '</tr>'
        });
        // console.log(memberList);
        tag += '</tbody></table>';
        document.write(tag);

    </script>
</body>

</html>